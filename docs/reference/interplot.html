<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Plot Conditional Coefficients of a Variable in an Interaction Term — interplot • interplot</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Plot Conditional Coefficients of a Variable in an Interaction Term — interplot"><meta property="og:description" content="interplot is a generic function to produce a plot of the coefficient estimates of one variable in a two-way interaction conditional on the values of the other variable in the interaction term. The function invokes particular methods which depend on the class of the first argument."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">interplot</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.9999</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/interplot-vignette.html">interplot: Plot the Effects of Variables in Interaction Terms</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/sammo3182/interplot/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Plot Conditional Coefficients of a Variable in an Interaction Term</h1>
    <small class="dont-index">Source: <a href="https://github.com/sammo3182/interplot/blob/HEAD/R/Interplot.R" class="external-link"><code>R/Interplot.R</code></a></small>
    <div class="hidden name"><code>interplot.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>interplot</code> is a generic function to produce a plot of the coefficient estimates of one variable in a two-way interaction conditional on the values of the other variable in the interaction term. The function invokes particular <code>methods</code> which depend on the <code><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></code> of the first argument.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">interplot</span><span class="op">(</span></span>
<span>  <span class="va">m</span>,</span>
<span>  <span class="va">var1</span>,</span>
<span>  <span class="va">var2</span>,</span>
<span>  plot <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  steps <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ci <span class="op">=</span> <span class="fl">0.95</span>,</span>
<span>  adjCI <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  hist <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  var2_dt <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  predPro <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  var2_vals <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  point <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  sims <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  xmin <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  xmax <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  ercolor <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  esize <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  ralpha <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  rfill <span class="op">=</span> <span class="st">"grey70"</span>,</span>
<span>  stats_cp <span class="op">=</span> <span class="st">"none"</span>,</span>
<span>  txt_caption <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="source">
    <h2>Source</h2>
    <p>Benjamini, Yoav, and Yosef Hochberg. 1995. "Controlling the False
Discovery Rate: A Practical and Powerful Approach to Multiple Testing".
Journal of the Royal Statistical Society, Series B 57(1): 289--300.</p>
<p>Brambor, Thomas, William Roberts Clark, and Matt Golder.
"Understanding interaction models: Improving empirical analyses". Political
Analysis 14.1 (2006): 63-82.</p>
<p>Esarey, Justin, and Jane Lawrence Sumner. 2015. "Marginal Effects in
Interaction Models: Determining and Controlling the False Positive Rate".
URL: <a href="https://jee3.web.rice.edu/interaction-overconfidence.pdf" class="external-link">https://jee3.web.rice.edu/interaction-overconfidence.pdf</a>.</p>
    </div>
    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>m</dt>
<dd><p>A model object including an interaction term, or, alternately, a data frame generated by an earlier call to interplot using the argument plot = FALSE.</p></dd>


<dt>var1</dt>
<dd><p>The name (as a string) of the variable of interest in the interaction term; its conditional coefficient estimates will be plotted.</p></dd>


<dt>var2</dt>
<dd><p>The name (as a string) of the other variable in the interaction term</p></dd>


<dt>plot</dt>
<dd><p>A logical value indicating whether the output is a plot or a dataframe including the conditional coefficient estimates of var1, their upper and lower bounds, and the corresponding values of var2.</p></dd>


<dt>steps</dt>
<dd><p>Desired length of the sequence. A non-negative number, which for seq and seq.int will be rounded up if fractional. The default is 100 or the unique categories in the <code>var2</code> (when it is less than 100. Also see <code><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></code>).</p></dd>


<dt>ci</dt>
<dd><p>A numeric value defining the confidence intervals. The default value is 95% (0.95).</p></dd>


<dt>adjCI</dt>
<dd><p>A logical value indication if applying the adjustment of confidence intervals to control the false discovery rate following the Esarey and Sumner (2017) procedure. (See also Benjamini and Hochberg 1995.) The default is FALSE; the plot presents the confidence intervals suggested by Brambor, Clark, and Golder (2006). The functions dealing with multilevel model outputs in this package do not equip with this argument, because there is the controversy on the accurate degrees of freedom for multilevel models, esp. when random effect is engaged and the degrees of freedom is a necessary information to conduct the CI adjustment. See e.g., https://stat.ethz.ch/pipermail/r-help/2006-May/094765.html and https://stat.ethz.ch/pipermail/r-sig-mixed-models/2008q1/000517.html.</p></dd>


<dt>hist</dt>
<dd><p>A logical value indicating if there is a histogram of `var2` added at the bottom of the conditional effect plot.</p></dd>


<dt>var2_dt</dt>
<dd><p>A numerical value indicating the frequency distribution of `var2`. It is only used when `hist == TRUE`. When the object is a model, the default is the distribution of `var2` of the model.</p></dd>


<dt>predPro</dt>
<dd><p>A logical value with default of `FALSE`. When the `m` is an object of class `glm` or `glmerMod` and the argument is set to `TRUE`, the function will plot predicted probabilities at the values given by `var2_vals`.</p></dd>


<dt>var2_vals</dt>
<dd><p>A numerical value indicating the values the predicted probabilities are estimated, when `predPro` is `TRUE`.</p></dd>


<dt>point</dt>
<dd><p>A logical value determining the format of plot. By default, the function produces a line plot when var2 takes on ten or more distinct values and a point (dot-and-whisker) plot otherwise; option TRUE forces a point plot.</p></dd>


<dt>sims</dt>
<dd><p>Number of independent simulation draws used to calculate upper and lower bounds of coefficient estimates: lower values run faster; higher values produce smoother curves.</p></dd>


<dt>xmin</dt>
<dd><p>A numerical value indicating the minimum value shown of x shown in the graph. Rarely used.</p></dd>


<dt>xmax</dt>
<dd><p>A numerical value indicating the maximum value shown of x shown in the graph. Rarely used.</p></dd>


<dt>ercolor</dt>
<dd><p>A character value indicating the outline color of the whisker or ribbon.</p></dd>


<dt>esize</dt>
<dd><p>A numerical value indicating the size of the whisker or ribbon.</p></dd>


<dt>ralpha</dt>
<dd><p>A numerical value indicating the transparency of the ribbon.</p></dd>


<dt>rfill</dt>
<dd><p>A character value indicating the filling color of the ribbon.</p></dd>


<dt>stats_cp</dt>
<dd><p>A character value indicating what statistics to present as the plot note. Three options are available: "none", "ci", and "ks". The default is "none". See the Details for more information.</p></dd>


<dt>txt_caption</dt>
<dd><p>A character string to add a note for the plot, a value will sending to <code>ggplot2::labs(caption = txt_caption))</code>.</p></dd>


<dt>...</dt>
<dd><p>Other ggplot aesthetics arguments for points in the dot-whisker plot or lines in the line-ribbon plots. Not currently used.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>The function returns a <code>ggplot</code> object.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p><code>interplot</code> visualizes the changes in the coefficient of one term in a two-way interaction conditioned by the other term. In the current version, the function works with interactions in the following classes of models:</p><ul><li><p>Ordinary linear models (object class: <code>lm</code>);</p></li>
<li><p>Generalized linear models (object class: <code>glm</code>);</p></li>
<li><p>Linear mixed-effects models (object class: <code>lmerMod</code>);</p></li>
<li><p>Generalized linear mixed-effects models (object class: <code>glmerMod</code>);</p></li>
<li><p>Ordinary linear models with imputed data (object class: <code>list</code>);</p></li>
<li><p>Generalized linear models with imputed data (object class: <code>list</code>)</p></li>
<li><p>Linear mixed-effects models with imputed data (object class: <code>list</code>);</p></li>
<li><p>Generalized linear mixed-effects models with imputed data (object class: <code>list</code>).</p></li>
</ul><p>The examples below illustrate how methods invoked by this generic deal with different type of objects.</p>
<p>Because the output function is based on <code><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></code>, any additional arguments and layers supported by <code>ggplot2</code> can be added with the <code>+</code>.</p>
<p><code>interplot</code> visualizes the conditional effect based on simulated marginal effects. The simulation provides a probabilistic distribution of moderation effect of the conditioning variable (<code>var2</code>) at every preset values (including the minimum and maximum values) of the conditioned variable (<code>var1</code>), denoted as Emin and Emax. This output allows the function to further examine the conditional effect statistically in two ways. One is to examine if the distribution of \(Emax - Emin\) covers zero. The other is to directly compare Emin and Emax through statistical tools for distributional comparisons. Users can choose either method by setting the argument <code>stats_cp</code> to "ci" or "ks".</p><ul><li><p>"ci" provides the confidence interval of the difference of \(Emax - Emin\). An interval including 0 suggests no statistical difference before and after the conditional effect is applied, and vise versa.</p></li>
<li><p>"ks" presents the result of a two-sample Kolmogorov-Smirnov test of the simulated distributions of Emin and Emax. The output includes a D statistics and a p-value of the null hypothesis that the two distributions come from the same distribution at the 0.05 level.</p></li>
</ul><p>See an illustration in the package vignette.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">m_cyl</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">mpg</span> <span class="op">~</span> <span class="va">wt</span> <span class="op">*</span> <span class="va">cyl</span>, data <span class="op">=</span> <span class="va">mtcars</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">interplot</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Plot interactions with a continous conditioning variable</span></span></span>
<span class="r-in"><span><span class="fu">interplot</span><span class="op">(</span>m <span class="op">=</span> <span class="va">m_cyl</span>, var1 <span class="op">=</span> <span class="st">'cyl'</span>, var2 <span class="op">=</span> <span class="st">'wt'</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="st">'Automobile Weight (thousands lbs)'</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">'Estimated Coefficient for Number of Cylinders'</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">'Estimated Coefficient of Engine Cylinders\non Mileage by Automobile Weight'</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>face<span class="op">=</span><span class="st">'bold'</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="interplot-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Plot interactions with a categorical conditioning variable</span></span></span>
<span class="r-in"><span><span class="fu">interplot</span><span class="op">(</span>m <span class="op">=</span> <span class="va">m_cyl</span>, var1 <span class="op">=</span> <span class="st">'wt'</span>, var2 <span class="op">=</span> <span class="st">'cyl'</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="st">'Number of Cylinders'</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">'Estimated Coefficient for Automobile Weight (thousands lbs)'</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">'Estimated Coefficient of Automobile Weight \non Mileage by Engine Cylinders'</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>face<span class="op">=</span><span class="st">'bold'</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="interplot-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Frederick Solt, Yue Hu.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

